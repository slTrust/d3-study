<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="container">
    <svg width="104" height="104" style="border: 1px solid red;"> 
    </svg> 
  </div>
  <script src="./d3.min.js"></script>
  <script>
     let score = 85;
     let innerRadius = 40;
     let outerRadius = 45
     let color = '#54639C'
     color = '#83CFC9'
     
     var svg = d3.select("svg") 
            .append("g") 
            .attr("transform", "translate(52,52)"); 
        
          
      drawArc(svg,100).style('opacity','0.2') // drawBackgroundArc
      drawArc(svg,85)
      drawText(svg,85)

      function setArc(score){
        var linear = d3.scaleLinear()
          .domain([0, 100]) // 定义域 score 0-100
          .range([0, 360]); // 实际的值域 0-360°

        return d3.arc() 
          .innerRadius(innerRadius) 
          .outerRadius(outerRadius) 
          .startAngle(180*(Math.PI / 180))//从degs转换为弧度
          .endAngle((180 + linear(score)) *(Math.PI / 180))// just radians 
      }

      function drawArc(svg,arcScore){
        return svg.append("path") 
          .attr("class", "arc") 
          .attr("d", setArc(arcScore)) 
          .attr("fill",color)
      }

      function drawText(svg,score){
        svg.append("text") 
        .attr('x',0)
        .attr('y',12)
        .attr('text-anchor','middle')
        .style('font-size','30px')
        .style('font-weight','bold')
        .attr('fill',color)
        .text(score)
      }

     

         
  </script>
</body>
</html>